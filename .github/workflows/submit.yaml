#name: POST submission
#
#on:
#  push:
#    branches: [ main ]
#  workflow_dispatch:
#    branches: [ main ]
#
#env:
#  FN_PROB: "probs.txt"
#
#jobs:
#  setup:
#    runs-on: ubuntu-latest
#    outputs:
#      matrix: ${{ steps.encoded.outputs.value }}
#    steps:
#      - uses: actions/checkout@v4
#      - uses: actions/cache@v3
#        with:
#          path: build
#          key: build-outputs
#      - run: make
#      - id: prob
#        run: |
#          make problems PROBLEMS=${{ env.FN_PROB }}
#          echo "ids=$(cat ${{ env.FN_PROB }})" >> $GITHUB_OUTPUT
#      - id: encoded
#        run: echo "value=${{ toJSON(steps.prob.outputs.ids) }}" >> $GITHUB_OUTPUT
#  submit:
#    needs: setup
#    runs-on: ubuntu-latest
#    strategy:
#      matrix:
#        pid: ${{ fromJSON(needs.setup.outputs.matrix) }}
#    steps:
#      - uses: actions/checkout@v4
#      - uses: actions/cache@v3
#        with:
#          path: build
#          key: build-outputs
#      - id: content
#        run: echo "body=$(cat build/${{ matrix.pid }}.txt)" >> $GITHUB_OUTPUT
#      - run: |
#          echo "${{ matrix.pid }}"
#          echo "${{ steps.content.outputs.body }}"
##          curl --location '${{ vars.BASE_URL }}submission' \
##          --header ${{ secrets.TOKEN }} \
##          --header 'Content-Type: text/plain' \
##          --data '${{ steps.content.outputs.body }}'
#
